#
#                         __ _ _
#    _____ __  _ __ ___  / _(_) | ___
#   |_  / '_ \| '__/ _ \| |_| | |/ _ \
#  _ / /| |_) | | | (_) |  _| | |  __/
# (_)___| .__/|_|  \___/|_| |_|_|\___|
#       |_|
#
# @samyak039


##################
## ENV Variables #
##################


##########
## EVALS #
##########

#==========#
# General  #
#==========#

## homebrew
{{ if eq .chezmoi.os "darwin" -}}
if [ $(arch) = "arm64" ]; then
    eval "$(/opt/homebrew/bin/brew shellenv)"
else
    eval "$(/usr/local/bin/brew shellenv)"
fi
{{ else if eq .chezmoi.os "linux" -}}
if [ -d '/home/linuxbrew/.linuxbrew' ]; then
    # eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv $SHELL)"
    export HOMEBREW_PREFIX="/home/linuxbrew/.linuxbrew";
    export HOMEBREW_CELLAR="/home/linuxbrew/.linuxbrew/Cellar";
    export HOMEBREW_REPOSITORY="/home/linuxbrew/.linuxbrew/Homebrew";
    fpath[1,0]="/home/linuxbrew/.linuxbrew/share/zsh/site-functions";
    export PATH="${PATH}:/home/linuxbrew/.linuxbrew/bin:/home/linuxbrew/.linuxbrew/sbin";
    [ -z "${MANPATH-}" ] || export MANPATH=":${MANPATH#:}";
    export INFOPATH="/home/linuxbrew/.linuxbrew/share/info:${INFOPATH:-}";
fi
{{ end -}}

# eval "$(atuin init zsh --disable-up-arrow)" # FIXME:
eval "$(zoxide init zsh --cmd d)"

#==============#
## Development #
#==============#

[ -d "$FNM_PATH" ] && export PATH="${FNM_PATH}:${PATH}"
eval "$(fnm env --use-on-cd --shell zsh)"
source <(fnm completions --shell zsh) > /dev/null 2>&1

{{ if eq .chezmoi.os "darwin" -}}
source ~/.orbstack/shell/init.zsh 2>/dev/null || :
{{ end -}}
